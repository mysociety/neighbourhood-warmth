{% extends "neighbourhood/base.html" %}

{% load static %}

{% block content %}

{% if is_team_member %}
<div class="bg-gray-200 text-gray-700 border-bottom">
    <div class="container d-md-flex align-items-center justify-content-between">
        <div class="fs-7 py-3 d-flex align-items-center">
            {% include 'neighbourhood/icons/fa-lightbulb-solid.html' with classes='flex-grow-0 me-3' %}
            You are {% if is_team_admin %}an admin for{% else %}a member of{% endif %} this team
        </div>
        <ul class="nav nav-tabs flex-nowrap pt-md-3" style="position: relative; bottom: -1px;">
            <li class="nav-item">
                <a class="nav-link" href="#public" data-bs-toggle="collapse" data-bs-target=".team-page-section" role="button" aria-expanded="false" aria-controls="public">Public page</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="#private" data-bs-toggle="collapse" data-bs-target=".team-page-section" role="button" aria-expanded="true" aria-controls="private">Team member page</a>
            </li>
        </ul>
    </div>
</div>
{% endif %}

<div id="public" class="team-page-section {% if is_team_member %}collapse no-transition{% endif %}">
    {% include 'neighbourhood/team_public.html' %}
</div>

{% if is_team_member %}
<div id="private" class="team-page-section collapse no-transition show">
    {% include 'neighbourhood/team_private.html' %}
</div>
{% endif %}

{% endblock %}

{% block extrajs %}
    <script>
        window.team_latlon = [{{ team.centroid.y }},{{ team.centroid.x }}];
      {% if team.boundary_geojson %}
        window.team_boundary_geojson = {{ team.boundary_geojson|safe }};
      {% endif %}
      {% if request.session.user_latlon %}
        window.user_latlon = [{{ request.session.user_latlon|join:"," }}];
      {% endif %}
    </script>
    <script type="module" src="{% static 'js/map.js' %}"></script>
{% endblock %}
{% block extracss %}
    <link rel="stylesheet" type="text/x-scss" href="{% static 'leaflet/leaflet-1.8.0.scss' %}">
{% endblock %}
